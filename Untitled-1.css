/* ===== VARIABLES CSS (Ensure these are at the top of your file) ===== */
:root {
  /* ... (keep your existing variables) ... */
  --padding-modal: 32px; /* Standard desktop padding */
  --padding-modal-mobile: 20px; /* Reduced mobile padding */
  --modal-gap-desktop: 30px; /* Gap between modal sections on desktop */
  --modal-gap-mobile: 20px; /* Gap between modal sections on mobile */
}

/* ===== MODAL DE PRODUCTO (Refinements for spacing) ===== */
#producto-modal {
  /* Keep existing styles, ensure it's a flex container for centering */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px; /* Reduced padding around the modal itself to prevent breakage on very small screens */
  overflow-y: auto; /* Allow the entire modal to scroll if needed */
}

.modal-contenido-producto {
  /* Keep existing visual styles */
  background: white;
  background-image: var(--gradiente-suave);
  border-radius: var(--radius-xl);
  box-shadow: var(--sombra-modal-impresionante);
  padding: var(--padding-modal); /* Use variable for padding */
  position: relative;
  max-height: 95vh; /* Allow it to take up more vertical space if content is long */
  width: 95%;
  max-width: 700px; /* Slightly increased max-width for more content space */
  display: flex; /* Make it a flex container */
  flex-direction: column; /* Stack items vertically by default */
  gap: var(--modal-gap-desktop); /* Gap between child elements */
  overflow-y: auto; /* Allow content inside to scroll */

  /* Animation */
  transform: scale(0.9);
  opacity: 0;
  animation: modalEnter 0.5s var(--animacion-entrada-modal) forwards;
}

/* Adjust the internal layout of the modal-contenido-producto for better spacing */
.modal-info-principal {
  display: flex;
  flex-wrap: wrap; /* Allow items to wrap on smaller screens */
  gap: var(--modal-gap-desktop); /* Gap between image and text section */
  align-items: flex-start; /* Align items to the top */
}

.modal-carrusel {
  min-width: 280px; /* Ensure minimum width for the image */
  max-width: 350px; /* Max width for consistency */
  flex-shrink: 0; /* Prevent it from shrinking too much */
  flex-grow: 1; /* Allow it to grow */
  width: 100%; /* Default to full width for small screens */

  /* Keep existing styles */
  height: 320px;
  border-radius: var(--radius-md);
  box-shadow: 0 10px 25px rgba(100, 160, 120, 0.15);
  border: none;
  background: var(--gris-card);
  display: flex; /* Ensure images inside are centered if needed */
  justify-content: center;
  align-items: center;
}

.modal-detalles-producto {
  flex-grow: 1; /* Allow text details to take up remaining space */
  min-width: 250px; /* Minimum width to prevent squishing */
}

.modal-img {
  max-width: 100%; /* Ensure image fits within its container */
  height: auto; /* Maintain aspect ratio */
  display: block; /* Remove extra space below image */
  border-radius: var(--radius-md); /* Apply radius to the image itself if needed */
  object-fit: contain; /* Ensure image fits without cropping */
}

.modal-nombre {
  margin-bottom: 5px; /* Reduced margin */
}

.modal-precio {
  margin-bottom: 10px; /* Reduced margin */
}

.modal-stock {
  margin-bottom: 15px; /* Reduced margin */
}

.modal-descripcion {
  font-size: 1em; /* Slightly smaller for better fit */
  max-width: 100%; /* Ensure it uses full width available */
  margin: 0 0 15px 0; /* Reset margins and add bottom margin */
}

.modal-detalles {
  margin-top: 0; /* Remove top margin, handled by gap in parent */
  padding: 12px 15px; /* Adjusted padding */
  display: flex;
  flex-direction: column; /* Stack items inside details */
  gap: 10px; /* Gap for rows in details */
}

/* Ensure quantity and add to cart button are well-spaced */
.modal-acciones {
  display: flex;
  flex-wrap: wrap; /* Allow to wrap on smaller screens */
  gap: 15px; /* Space between input and button */
  align-items: center;
  margin-top: 15px; /* Add some space above actions */
}

.cantidad-modal-container {
  display: flex;
  align-items: center;
  gap: 10px;
}

.cantidad-modal-input {
  width: 65px; /* Slightly narrower input */
  padding: 8px 0; /* Reduced padding */
  font-size: 1.05rem;
}

.boton-agregar-modal {
  flex-grow: 1; /* Allow button to take available space */
  min-width: 180px; /* Ensure button isn't too small */
  padding: 12px 20px; /* Adjusted padding */
  font-size: 1.05rem;
}


/* ===== MEDIA QUERIES (Adjust for smaller screens) ===== */
@media (max-width: 768px) {
  .modal-contenido-producto {
    padding: var(--padding-modal-mobile); /* Use mobile padding */
    gap: var(--modal-gap-mobile); /* Use mobile gap */
  }

  .modal-info-principal {
    flex-direction: column; /* Stack image and details vertically */
    align-items: center; /* Center them */
    gap: var(--modal-gap-mobile);
  }

  .modal-carrusel {
    width: 250px; /* Adjust size for mobile modals */
    height: 250px;
    margin-bottom: 0; /* Remove extra margin if flex-direction is column */
  }

  .modal-detalles-producto {
    text-align: center; /* Center text content for better mobile presentation */
    width: 100%; /* Take full width on mobile */
  }

  .modal-descripcion {
    text-align: left; /* Keep description left-aligned for readability */
    margin-left: auto;
    margin-right: auto;
    max-width: 90%; /* Constrain width for readability on mobile */
  }

  .modal-acciones {
    flex-direction: column; /* Stack quantity and button vertically */
    align-items: stretch; /* Stretch to fill width */
  }

  .cantidad-modal-container {
    justify-content: center; /* Center quantity controls */
  }

  .boton-agregar-modal {
    width: 100%; /* Full width button on mobile */
  }
}

@media (max-width: 480px) {
  .modal-contenido-producto {
    padding: 15px; /* Even smaller padding on very small screens */
    gap: 15px;
  }
  .modal-carrusel {
    width: 200px;
    height: 200px;
  }
  .cerrar-modal {
    width: 35px;
    height: 35px;
    font-size: 1.5rem;
    top: 10px;
    right: 10px;
  }
}
